<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIES AND GRILLS | Restaurant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== 1. GLOBAL VARIABLES ===== */
        :root {
            --primary: #006994; /* Deep Sea Blue */
            --primary-dark: #00405c; /* Darker Deep Sea Blue */
            --primary-light: #0093ce; /* Lighter Deep Sea Blue */
            --secondary: #ff9e4a; /* Accent color */
            --accent: #2ab7ca; /* Secondary accent */
            --dark: #ffffff; /* White text for dark backgrounds */
            --light: #f0f8ff; /* Off-white/Soft Blue for subtle backgrounds */
            --gray: #cccccc; /* Light gray for secondary text */
            --sand: #f5d76e;
            --transition: all 0.3s ease;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            --milky-bg: rgba(255, 255, 255, 0.1);
            --milky-border: rgba(255, 255, 255, 0.2);
            --radius: 15px;
        }

        /* ===== 2. RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(to bottom, #b3d9ff, #e6f2ff);
            background-attachment: fixed;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ===== 3. TYPOGRAPHY ===== */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
        }

        .section-title h2 {
            font-size: 3.5rem;
            color: var(--dark);
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }

        .section-title p {
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.1rem;
        }

        .hero h1 {
            font-size: 4.5rem;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
        }

        .hero p {
            font-size: 1.4rem;
            margin-bottom: 40px;
            opacity: 0.95;
            font-weight: 300;
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        /* ===== 4. LAYOUT & CONTAINER ===== */
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 30px;
        }

        .section {
            padding: 100px 0;
            background: linear-gradient(to bottom, #b3d9ff, #e6f2ff);
            position: relative;
            border-radius: 0;
        }

        .text-center {
            text-align: center;
        }

        /* ===== 5. HEADER & NAVIGATION ===== */
        header {
            background: linear-gradient(to bottom, #80c1ff, #b3d9ff);
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border-bottom: 1px solid var(--milky-border);
        }

        @supports not (backdrop-filter: blur(15px)) {
            header {
                background: linear-gradient(to bottom, #80c1ff, #b3d9ff);
            }
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            position: relative;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 100px;
            height: 100px;
            border-radius: 2.5cm;
            object-fit: cover;
            border: 3px solid var(--secondary);
            box-shadow: var(--shadow);
        }

        /* Mobile logo adjustments */
        @media (max-width: 768px) {
            .logo img {
                width: 80px;
                height: 80px;
                border-radius: 1.5cm;
            }
        }

        @media (max-width: 480px) {
            .logo img {
                width: 70px;
                height: 70px;
                border-radius: 1.5cm;
            }
        }

        /* ===== 6. NAVIGATION MENU ===== */
        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 40px;
        }

        nav ul li a {
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            color: var(--primary-dark);
            padding: 5px 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        nav ul li a:hover {
            color: var(--primary-light);
        }

        nav ul li a.active {
            color: var(--primary-light);
        }

        nav ul li a.active:after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary-light);
            border-radius: 2px;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--primary-dark);
            z-index: 1001;
            position: absolute;
            right: 0;
        }

        /* ===== 7. HERO SECTION ===== */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 105, 148, 0.8), rgba(0, 64, 92, 0.9)), url('https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            text-align: center;
            color: var(--dark);
            position: relative;
            padding-top: 80px;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .hero-btns {
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        /* ===== 8. ABOUT SECTION ===== */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .about-text h3 {
            font-size: 2.5rem;
            margin-bottom: 25px;
            color: var(--primary-light);
        }

        .about-text p {
            margin-bottom: 20px;
            color: #333;
            font-size: 1.1rem;
        }

        .about-image {
            position: relative;
        }

        .about-image img {
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 5px solid var(--milky-bg);
            width: 100%;
            height: auto;
        }

        .experience-badge {
            position: absolute;
            bottom: -30px;
            right: -30px;
            background: var(--primary-light);
            color: white;
            padding: 25px;
            border-radius: 50%;
            width: 140px;
            height: 140px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow);
            border: 4px solid var(--secondary);
            font-weight: 700;
        }

        .experience-badge span:first-child {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--secondary);
        }

        /* ===== 9. MENU FILTERS ===== */
        .menu-filters {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .filter-btn {
            padding: 10px 25px;
            background: var(--primary-light);
            color: white;
            border: 1px solid var(--primary-light);
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .filter-btn.active, .filter-btn:hover {
            background: var(--secondary);
            color: var(--primary-dark);
            border-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 158, 74, 0.5);
        }

        /* ===== 10. MENU GRID SYSTEM ===== */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 30px;
        }

        .menu-category-title {
            grid-column: 1 / -1;
            text-align: center;
            font-size: 2.2rem;
            color: var(--primary-light);
            margin-top: 50px;
            margin-bottom: 30px;
            border-bottom: 3px solid var(--primary-light);
            padding-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .menu-category-title small {
            font-size: 0.7em;
            color: var(--gray);
            display: block;
            margin-top: 5px;
        }

        /* ===== 11. MENU ITEMS ===== */
        .menu-item {
            background: var(--milky-bg);
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            border: 1px solid var(--milky-border);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .menu-item:hover {
            transform: translateY(-15px);
            border-color: var(--primary-light);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .menu-item-img {
            height: 220px;
            overflow: hidden;
        }

        .menu-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .menu-item:hover .menu-item-img img {
            transform: scale(1.05);
        }

        .menu-item-content {
            padding: 25px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .menu-item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .menu-item-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #333;
            flex-grow: 1;
        }

        .menu-item-price {
            color: var(--secondary);
            font-weight: 800;
            font-size: 1.3rem;
            white-space: nowrap;
            margin-left: 15px;
        }

        .menu-item-price:before {
            content: 'R ';
        }

        .menu-item-desc {
            color: #555;
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .item-details {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .item-name {
            font-size: 1.1rem;
            color: #333;
            font-weight: 600;
        }

        .item-price {
            font-size: 1.2rem;
            color: var(--secondary);
            font-weight: 700;
        }

        .item-description {
            font-size: 0.9rem;
            color: #555;
            margin-top: 5px;
            margin-bottom: 15px;
        }

        /* ===== 12. GALLERY SECTION ===== */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            overflow: hidden;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
            border: 1px solid var(--milky-border);
            height: 250px;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
            opacity: 0.8;
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(74, 144, 226, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: var(--transition);
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-overlay i {
            color: white;
            font-size: 2rem;
        }

        /* ===== 13. TESTIMONIALS SECTION ===== */
        .testimonials {
            background: linear-gradient(rgba(0, 105, 148, 0.8), rgba(0, 64, 92, 0.9)), url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            text-align: center;
            position: relative;
        }

        .testimonials-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .testimonial-slider {
            position: relative;
            overflow: hidden;
        }

        .testimonial-slide {
            padding: 20px;
            display: none;
            animation: fade 0.5s ease;
        }

        .testimonial-slide.active {
            display: block;
        }

        @keyframes fade {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .testimonial-item {
            text-align: center;
            background: var(--milky-bg);
            padding: 40px;
            border-radius: var(--radius);
            border: 1px solid var(--milky-border);
            box-shadow: var(--shadow);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .testimonial-item img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 25px;
            border: 5px solid var(--primary-light);
            object-fit: cover;
        }

        .testimonial-text {
            font-style: italic;
            color: var(--light);
            margin-bottom: 25px;
            font-size: 1.1rem;
            position: relative;
        }

        .testimonial-text:before, .testimonial-text:after {
            content: '"';
            font-size: 3rem;
            color: var(--secondary);
            position: absolute;
            opacity: 0.5;
        }

        .testimonial-text:before {
            top: -20px;
            left: -10px;
        }

        .testimonial-text:after {
            bottom: -40px;
            right: -10px;
        }

        .testimonial-author {
            font-weight: 700;
            color: var(--dark);
            display: block;
            font-size: 1.2rem;
        }

        .testimonial-author-info h4 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .testimonial-author-info p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .testimonial-nav {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            gap: 10px;
        }

        .testimonial-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .testimonial-dot.active {
            background: var(--secondary);
        }

        /* ===== 14. CONTACT SECTION ===== */
        .contact-content {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 60px;
        }

        .contact-form {
            background: var(--milky-bg);
            padding: 40px;
            border-radius: var(--radius);
            border: 1px solid var(--milky-border);
            box-shadow: var(--shadow);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .contact-form .form-group {
            margin-bottom: 25px;
        }

        .contact-form input, .contact-form textarea {
            width: 100%;
            padding: 18px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.2);
            color: var(--dark);
            transition: var(--transition);
            font-size: 1rem;
        }

        .contact-form input:focus, .contact-form textarea:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 4px rgba(0, 147, 206, 0.5);
            background: rgba(0, 0, 0, 0.4);
        }

        .contact-form textarea {
            min-height: 150px;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .contact-item {
            display: flex;
            gap: 20px;
        }

        .contact-icon {
            width: 60px;
            height: 60px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            border: 1px solid var(--accent);
        }

        .contact-details h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #333;
        }

        .contact-details p {
            color: #555;
        }

        .contact-info ul {
            list-style: none;
        }

        .contact-info ul li {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            font-size: 1.2rem;
            color: var(--light);
        }

        .contact-info ul li i {
            font-size: 1.8rem;
            margin-right: 20px;
            color: var(--secondary);
        }

        /* ===== 15. FOOTER ===== */
        footer {
            background: linear-gradient(to bottom, #80c1ff, #b3d9ff);
            color: #555;
            padding: 80px 0 30px;
            text-align: center;
            border-top: 5px solid var(--primary-light);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
            text-align: left;
        }

        footer h4 {
            font-size: 1.4rem;
            margin-bottom: 25px;
            color: var(--primary-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .footer-about p {
            font-size: 1rem;
        }

        /* ===== 16. FOOTER LINKS ===== */
        .footer-links ul {
            list-style: none;
        }

        .footer-links ul li {
            margin-bottom: 10px;
        }

        .footer-links ul li a {
            color: #555;
            transition: var(--transition);
            font-size: 1rem;
            position: relative;
            padding-left: 15px;
        }

        .footer-links ul li a:before {
            content: 'â€¢';
            position: absolute;
            left: 0;
            color: var(--secondary);
        }

        .footer-links ul li a:hover {
            color: #333;
            padding-left: 20px;
        }

        /* ===== 17. SOCIAL LINKS ===== */
        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-links a {
            font-size: 2rem;
            margin-right: 20px;
            color: #555;
            transition: var(--transition);
        }

        .social-links a:hover {
            color: var(--secondary);
            transform: scale(1.1);
        }

        .footer-bottom {
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            padding-top: 30px;
            font-size: 0.9rem;
        }

        /* ===== 18. BUTTON STYLES ===== */
        .btn {
            padding: 15px 35px;
            border-radius: 50px;
            font-weight: 700;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-block;
            font-size: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            border: none;
        }

        .btn-primary {
            background: var(--primary-light);
            color: var(--primary-dark);
            border: 2px solid var(--primary-light);
        }

        .btn-primary:hover {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .add-to-cart-btn {
            background: var(--accent);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            align-self: flex-start;
        }

        .add-to-cart-btn:hover {
            background: #209aa8;
            transform: scale(1.05);
        }

        /* ===== 19. CART SYSTEM ===== */
        .cart-icon {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 1001;
            transition: var(--transition);
            border: 2px solid white;
        }

        .cart-icon:hover {
            background: #e68c3a;
            transform: scale(1.1);
        }

        .cart-icon.added {
            animation: cart-pop 0.3s ease-out;
            background: var(--accent);
            color: white;
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: red;
            color: white;
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        /* ===== 20. CART MODAL ===== */
        .cart-modal {
            display: none;
            position: fixed;
            z-index: 1002;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .cart-modal-content {
            background-color: #b3d9ff;
            margin: 5% auto;
            padding: 30px;
            border: 1px solid var(--milky-border);
            width: 90%;
            max-width: 600px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .close-btn {
            color: #555;
            float: right;
            font-size: 28px;
            font-weight: bold;
            transition: var(--transition);
            cursor: pointer;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: var(--accent);
            text-decoration: none;
        }

        #cart-items {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        #cart-items li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px dashed var(--milky-border);
        }

        #cart-items li:last-child {
            border-bottom: none;
        }

        .cart-item-info {
            flex-grow: 1;
        }

        .cart-item-name {
            font-weight: 600;
            color: #333;
        }

        .cart-item-price {
            color: var(--secondary);
            font-weight: 700;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-left: 20px;
        }

        .quantity-btn {
            background: var(--primary-light);
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
            transition: var(--transition);
        }

        .quantity-btn:hover {
            background: var(--accent);
            color: var(--dark);
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid var(--accent);
            display: flex;
            justify-content: space-between;
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
        }

        #whatsapp-order-btn {
            width: 100%;
            margin-top: 20px;
            background: #25d366;
            border: 1px solid #25d366;
            color: white;
        }

        #whatsapp-order-btn:hover {
            background: #128c7e;
            border-color: #128c7e;
        }

        /* ===== 23. MOBILE MENU BACKDROP ===== */
        .mobile-menu-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            backdrop-filter: blur(3px);
            -webkit-backdrop-filter: blur(3px);
        }

        .mobile-menu-backdrop.active {
            display: block;
        }

        /* ===== 24. ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes cart-pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1.1); }
        }

        /* ===== 25. UTILITY CLASSES ===== */
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .mb-40 { margin-bottom: 40px; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .mt-40 { margin-top: 40px; }
        .hidden { display: none; }
        .visible { display: block; }
        .flex { display: flex; }
        .flex-center {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .flex-between {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* ===== 26. FORM STYLES ===== */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius);
            font-family: inherit;
            transition: var(--transition);
            color: #333;
        }

        .form-control:focus {
            border-color: var(--primary-light);
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 147, 206, 0.5);
        }

        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }

        /* ===== 27. RESPONSIVE DESIGN ===== */
        @media (max-width: 1200px) {
            .container {
                max-width: 960px;
            }
        }

        @media (max-width: 992px) {
            .about-content {
                grid-template-columns: 1fr;
                gap: 50px;
            }
            .about-image { order: -1; }
            .contact-content {
                grid-template-columns: 1fr;
            }
            .section {
                padding: 80px 0;
            }
            .section-title h2 {
                font-size: 2.8rem;
            }
            .hero h1 { font-size: 3.5rem; }
            .hero p { font-size: 1.2rem; }
        }

        @media (max-width: 768px) {
            .header-container {
                padding: 10px 0;
            }
            
            nav {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background: rgba(0, 64, 92, 0.95);
                display: flex;
                justify-content: center;
                align-items: center;
                transform: translateX(-100%);
                transition: var(--transition);
                z-index: 1000;
                backdrop-filter: blur(10px);
                -webkit-backdrop-filter: blur(10px);
            }
            
            nav.active {
                transform: translateX(0);
            }
            
            nav ul {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul li {
                margin: 15px 0;
            }
            
            nav ul li a {
                font-size: 1.5rem;
                padding: 10px 20px;
                display: block;
                color: white;
            }
            
            .mobile-menu-btn {
                display: block;
                position: relative;
                z-index: 1001;
            }
            
            .hero-btns {
                flex-direction: column;
                gap: 15px;
            }
            
            .hero h1 { 
                font-size: 2.8rem; 
                line-height: 1.2;
            }
            
            .hero p { 
                font-size: 1.1rem; 
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .contact-form {
                padding: 30px 20px;
            }
            
            .section-title h2 {
                font-size: 2.2rem;
            }
            
            .cart-modal-content {
                margin: 10% auto;
                padding: 20px;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .footer-links ul li a {
                padding-left: 0;
            }
            
            .footer-links ul li a:before {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .hero h1 { 
                font-size: 2.2rem; 
            }
            
            .hero p { 
                font-size: 1rem; 
            }
            
            .section-title h2 { 
                font-size: 1.8rem; 
            }
            
            .container { 
                padding: 0 15px; 
            }
            
            .btn {
                padding: 12px 25px;
                font-size: 0.9rem;
            }
            
            .menu-item-content {
                padding: 15px;
            }
            
            .contact-info ul li {
                font-size: 1rem;
            }
            
            .cart-icon {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .currency-indicator {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
        }

        /* Book a Table Section */
        .book-table-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            align-items: start;
        }

        .booking-info {
            background: var(--white);
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .booking-item {
            display: flex;
            margin-bottom: 25px;
        }

        .booking-icon {
            background: var(--primary);
            color: var(--white);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .booking-details h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: var(--secondary);
        }

        .booking-details p {
            color: #555;
        }

        .booking-form {
            background: var(--white);
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--secondary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(197, 45, 47, 0.2);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            display: inline-block;
            background: var(--primary);
            color: var(--white);
            padding: 14px 30px;
            border: none;
            border-radius: var(--radius);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            width: 100%;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-whatsapp {
            background: #25D366;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-whatsapp:hover {
            background: #128C7E;
        }

        .btn-secondary {
            background: var(--secondary);
        }

        .btn-secondary:hover {
            background: #1a1a1a;
        }

        .cart-summary {
            margin-top: 30px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: var(--radius);
        }

        .cart-summary h3 {
            margin-bottom: 15px;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-summary h3 i {
            color: var(--primary);
        }

        .cart-items-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #ccc;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-name {
            font-weight: 500;
        }

        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 1.1rem;
            padding-top: 10px;
            border-top: 2px solid #ccc;
        }

        .empty-cart-message {
            text-align: center;
            padding: 20px;
            color: #555;
        }

        .empty-cart-message i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            max-width: 500px;
            width: 90%;
            text-align: center;
        }

        .modal h3 {
            margin-bottom: 15px;
            color: var(--secondary);
        }

        .modal p {
            margin-bottom: 20px;
            color: #555;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            min-width: 120px;
        }

        .modal-btn-primary {
            background: var(--primary);
            color: white;
        }

        .modal-btn-primary:hover {
            background: var(--primary-dark);
        }

        .modal-btn-secondary {
            background: #f5f5f5;
            color: var(--secondary);
        }

        .modal-btn-secondary:hover {
            background: #d4d4d4;
        }

        /* Option Selection Styles */
        .option-selection {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
        }

        .option-buttons {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }

        .option-btn {
            padding: 5px 10px;
            border: 1px solid var(--primary-light);
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.8rem;
        }

        .option-btn.active {
            background: var(--primary-light);
            color: white;
        }

        .option-btn:hover:not(.active) {
            background: var(--primary-light);
            color: white;
        }

        .option-price {
            font-size: 0.9rem;
            color: var(--secondary);
            font-weight: 600;
            margin-left: 5px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .book-table-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }

            .modal-buttons {
                flex-direction: column;
            }
            
            .option-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Mobile Menu Backdrop -->
    <div class="mobile-menu-backdrop" id="mobileMenuBackdrop"></div>

    <!-- Cart Icon -->
    <div class="cart-icon" id="cart-icon">
        <i class="fas fa-shopping-cart"></i>
        <span class="cart-count" id="cart-count">0</span>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close-btn">&times;</span>
            <h2>Your Order For your Booking</h2>
            <ul id="cart-items">
                <!-- Cart items will be dynamically added here -->
            </ul>
            <div class="cart-total">
                <span>Total:</span>
                <span id="cart-total-price"></span>
            </div>
            <button class="btn" id="whatsapp-order-btn">
                <i class="fab fa-whatsapp"></i> Proceed to Order on WhatsApp
            </button>
        </div>
    </div>

    
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-container">
                <a href="#" class="logo">
                    <img src="logo.jpeg" alt="PIES AND GRILLS Logo">
                </a>
            </div>
            <nav class="main-nav" id="main-nav">
                <ul>
                    <li><a href="#home" class="nav-link active">Home</a></li>
                    <li><a href="#about" class="nav-link">About</a></li>
                    <li><a href="#menu" class="nav-link">Menu</a></li>
                    <li><a href="#gallery" class="nav-link">Gallery</a></li>
                    <li><a href="#testimonials" class="nav-link">Testimonials</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container hero-content">
            <h1>Delicious Culinary Excellence</h1>
            <p>At PIES AND GRILLS, we serve mouth-watering pies and perfectly grilled dishes with a fresh coastal twist, made with the finest ingredients.</p>
            <div class="hero-btns">
                <a href="#menu" class="btn">View Menu</a>
                <a href="#book-table" class="btn btn-secondary">Book a Table</a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section">
        <div class="container">
            <div class="section-title">
                <h2>Our Story</h2>
                <p>Discover the coastal passion and tradition behind our delicious creations</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <h3>Welcome to PIES AND GRILLS</h3>
                    <p>Nestled in the heart of Pietermaritzburg, PIES AND GRILLS is a culinary destination where traditional comfort food meets contemporary flair. Our restaurant was born from a passion for creating exceptional dining experiences that celebrate the rich culinary heritage of South Africa while embracing modern techniques and flavors.</p>
                    <p>At the heart of our kitchen is a commitment to quality and authenticity. We source the freshest local ingredients, from prime cuts of meat to seasonal vegetables, ensuring every dish tells a story of flavor and craftsmanship. Our signature pies feature buttery, flaky crusts enveloping rich, savory fillings that have become the talk of the town.</p>
                    <p>Our grill masters take pride in their art, carefully preparing each cut to perfection over open flames. Whether it's our succulent steaks, tender grilled chicken, or perfectly charred seafood, every dish reflects our dedication to culinary excellence. We believe that great food brings people together, creating memories that last long after the meal is over.</p>
                    <a href="#menu" class="btn">Explore Our Menu</a>
                </div>
                <div class="about-image">
                    <img src="assets/images/pics/INTERIORIMG.jpg" alt="Restaurant interior">
                </div>
            </div>
        </div>
    </section>

    <!-- Menu Section -->
    <section id="menu" class="section menu">
        <div class="container">
            <div class="section-title">
                <h2>Our Menu</h2>
                <p>Freshly prepared pies, grills, and classic meals for every appetite.</p>
            </div>

            <div class="menu-filters" id="menu-filters">
                <!-- Filter buttons will be dynamically added here -->
            </div>

            <div class="menu-grid" id="menu-grid">
                <!-- Menu items will be dynamically added here -->
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="section">
        <div class="container">
            <div class="section-title">
                <h2>Our Gallery</h2>
                <p>A visual journey through our coastal culinary creations and restaurant ambiance</p>
            </div>
            <div class="gallery-grid" id="gallery-container">
                <!-- Gallery items will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="section testimonials">
        <div class="container">
            <div class="section-title">
                <h2>What Our Customers Say</h2>
                <p>Hear from our satisfied guests about their coastal dining experiences</p>
            </div>
            <div class="testimonials-container">
                <div class="testimonial-slider" id="testimonial-slider">
                    <!-- Testimonials will be generated by JavaScript -->
                </div>
                <div class="testimonial-nav" id="testimonial-nav">
                    <!-- Navigation dots will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Book a Table Section -->
    <section id="book-table" class="section">
        <div class="container">
            <div class="section-title">
                <h2>Book a Table</h2>
                <p>Reserve your table and pre-order your meal for a seamless dining experience</p>
            </div>
            <div class="book-table-content">
                <div class="booking-info">
                    <div class="booking-item">
                        <div class="booking-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="booking-details">
                            <h3>Our Location</h3>
                            <p>145 Chief Albert Luthuli Street (Shop No 12) Pietermaritzburg KZN South Africa 3201</p>
                        </div>
                    </div>
                    <div class="booking-item">
                        <div class="booking-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="booking-details">
                            <h3>Phone Number</h3>
                            <p>076 747 4165</p>
                        </div>
                    </div>
                    <div class="booking-item">
                        <div class="booking-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="booking-details">
                            <h3>Opening Hours</h3>
                            <p>Monday - Friday: 7:00 AM - 5:00 PM<br>Saturday: 8:00 AM - 4:00 PM<br>Closed on Sundays & Public Holidays</p>
                        </div>
                    </div>
                    
                    <!-- Cart Summary -->
                    <div class="cart-summary">
                        <h3><i class="fas fa-shopping-cart"></i> Your Order</h3>
                        <div class="cart-items-list" id="cart-items-list">
                            <!-- Cart items will be dynamically inserted here -->
                        </div>
                        <div class="cart-total">
                            <span>Total:</span>
                            <span id="cart-total-price">R0.00</span>
                        </div>
                        <button class="btn btn-secondary" id="view-menu-btn" style="margin-top: 15px;">
                            <i class="fas fa-utensils"></i> View Menu & Add Items
                        </button>
                    </div>
                </div>
                <div class="booking-form">
                    <form id="bookingForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Your Name</label>
                                <input type="text" id="name" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="date">Booking Date</label>
                                <input type="date" id="date" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="time">Booking Time</label>
                                <input type="time" id="time" class="form-control" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="guests">Number of Guests</label>
                            <select id="guests" class="form-control" required>
                                <option value="">Select number of guests</option>
                                <option value="1">1 Person</option>
                                <option value="2">2 People</option>
                                <option value="3">3 People</option>
                                <option value="4">4 People</option>
                                <option value="5">5 People</option>
                                <option value="6">6 People</option>
                                <option value="7">7 People</option>
                                <option value="8">8 People</option>
                                <option value="9">9+ People</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="special-requests">Special Requests</label>
                            <textarea id="special-requests" class="form-control" placeholder="Any dietary requirements or special requests..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-whatsapp">
                            <i class="fab fa-whatsapp"></i> Book Table & Send Order
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Empty Cart Modal -->
    <div class="modal" id="empty-cart-modal">
        <div class="modal-content">
            <h3>No Items in Your Cart</h3>
            <p>You haven't added any items to your cart yet. Would you like to add some delicious food to your order?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-primary" id="add-items-btn">Add Items to Order</button>
                <button class="modal-btn modal-btn-secondary" id="book-without-order">Book Without Order</button>
            </div>
        </div>
    </div>

    <!-- Confirm Order Modal -->
    <div class="modal" id="confirm-order-modal">
        <div class="modal-content">
            <h3>Confirm Your Order for your reservation</h3>
            <p>You have items in your cart. Is this everything you'd like to order for your reservation?</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-primary" id="confirm-order-btn">Yes, This Is My Order</button>
                <button class="modal-btn modal-btn-secondary" id="modify-order-btn">No, I Want to Modify</button>
            </div>
        </div>
    </div>



    <!-- Contact Section -->
    <section id="contact" class="section">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Get in touch to make a reservation or ask any questions</p>
            </div>
            <div class="contact-content">
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Our Location</h3>
                            <p>145 Chief Albert Luthuli Street (Shop No 12) Pietermaritzburg KZN South Africa 3201</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Phone Number</h3>
                            <p>076 747 4165</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Email Address</h3>
                            <p>info@piesandgrills.co.za</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h3>Opening Hours</h3>
                            <p>Monday - Friday: 7:00 AM - 5:00 PM<br>Saturday: 8:00 AM - 4:00 PM<br>Closed on Sundays & Public Holidays</p>
                        </div>
                    </div>
                </div>
                <div class="contact-form">
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Your Message</label>
                            <textarea id="message" class="form-control" required></textarea>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-paper-plane"></i> Send Message via Email
                        </button>
                    </form>
                    <div class="mailto-info">
                        <i class="fas fa-info-circle"></i>
                        <strong>Note:</strong> This will open your default email client with a pre-filled message. Just click send to complete your message.
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-col">
                    <h3>PIES AND GRILLS</h3>
                    <p>Experience the finest coastal pies and grilled dishes in town. We're committed to serving you with excellence and creating memorable dining experiences.</p>
                    <div class="social-links">
                        <a href="https://www.facebook.com/share/1YqMhX9T7r/?mibextid=wwXIfr" target="_blank"><i class="fab fa-facebook-f"></i></a>
                        <a href="https://www.instagram.com/thejabs145?igsh=YXk0dWpvd9vYWhs" target="_blank"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#menu">Our Menu</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Opening Hours</h3>
                    <ul class="footer-links">
                        <li>Monday - Friday: 7am - 5pm</li>
                        <li>Saturday: 8am - 4pm</li>
                        <li>Sunday: Closed</li>
                        <li>Public Holidays: Closed</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 PIES AND GRILLS. All Rights Reserved. | Prices in South African Rand (ZAR)</p>
            </div>
        </div>
    </footer>

<script>
// Menu Data with ZAR prices - Updated with new prices

const menuItems = [
    // BREAKFAST
    { id: 101, name: "STANDARD BREAKFAST", price: 79.00, description: "2-EGGS, 2 RASHERS OF BACON, GRILLED TOMATO & SLICE OF TOAST", category: "breakfast", image: "assets/images/menu/standard.jpg" },
    { id: 102, name: "MINI HUNGRY", price: 74.00, description: "1 EGG, 1 VIENNA, 2 RASHERS OF BACON, GRILLED TOMATO, 1 SLICE OF TOAST", category: "breakfast", image: "assets/images/menu/toastand egg.png" },
    { id: 103, name: "THE WORSO WAY", price: 95.00, description: "2 EGGS, 2 RASHERS OF BACON, GRILLED MUSHROOMS, GRILLED TOMATO, 2 SLICES OF TOAST", category: "breakfast", image: "assets/images/menu/theworso way.jpg" },
    { id: 104, name: "THE CLUB HOUSE", price: 110.00, description: "2 eggs, 3 rashers of bacon, 1 pork sausage, grilled mushrooms, grilled tomato, baked beans, and 2 slices of toast", category: "breakfast", image: "assets/images/menu/clubhouse.jpeg" },
    { id: 105, name: "AVO-EGG", price: 75.00, description: "Sliced avocado, scrambled eggs, 2 viennas, onion rings, 2 slices of toast", category: "breakfast", image: "assets/images/menu/breakfast-avo-egg.jpg" },
    { id: 106, name: "MINCE ON TOAST", price: 85.00, description: "Saucy mince with beans, melted cheddar cheese, egg, 2 slices of toast", category: "breakfast", image: "assets/images/menu/breakfast-mince-on-toast.jpg" },
    { id: 107, name: "BREAKFAST BANGERS", price: 79.00, description: "Chicken/Beef/Pork/Mutton 2 bangers, 2 eggs, 2 toasts", category: "breakfast", image: "assets/images/menu/standard.jpg" },
    { id: 108, name: "OMELETTE", price: 85.00, description: "3 eggs, served with 2 toast slices and fillings of your choice (Bacon/Onion/Tomato/Cheese/Ham/Green pepper/Mushrooms)", category: "breakfast", image: "assets/images/menu/omlette.jpg" },
    
    // BUILD YOUR BREAKFAST (Add-ons) - SEPARATE SECTION
    { id: 116, name: "MUSHROOMS", price: 25.00, description: "Grilled mushrooms - perfect addition to any breakfast", category: "build_your_breakfast", image: "assets/images/menu/MUSHROOMS.jpg" },
    { id: 117, name: "BAKED BEANS", price: 20.00, description: "Hearty baked beans - a classic breakfast side", category: "build_your_breakfast", image: "assets/images/menu/Baked-Beans.jpg" },
    { id: 118, name: "SLICED CHEESE", price: 10.00, description: "Sliced cheese - melt it on toast or add to any dish", category: "build_your_breakfast", image: "assets/images/menu/SLICED CHEESE.jpg" },
    { id: 119, name: "FRIED EGG", price: 10.00, description: "Perfectly fried egg - sunny side up or your preference", category: "build_your_breakfast", image: "assets/images/menu/FRIED EGG.jpg" },
    { id: 120, name: "TOASTED BREAD (X2)", price: 7.00, description: "Two slices of golden toasted bread", category: "build_your_breakfast", image: "assets/images/menu/Toastedbread.jpg" },
    { id: 121, name: "BREAD ROLL OR BUN", price: 6.00, description: "Fresh bread roll or bun - perfect for breakfast sandwiches", category: "build_your_breakfast", image: "assets/images/menu/breadroll.jpg" },
    
    // SANDWICHES
    { id: 109, name: "CHEESE & TOMATO SANDWICH", price: 35.00, description: "Classic sandwich with cheese and tomato", category: "sandwiches", image: "assets/images/menu/cheeseandtomatosandwich.jpg" },
    { id: 110, name: "CHICKEN & MAYO SANDWICH", price: 36.00, description: "Shredded chicken with creamy mayonnaise", category: "sandwiches", image: "assets/images/menu/sandwich-chicken-mayo.jpg" },
    { id: 111, name: "CHEESE & HAM SANDWICH", price: 36.00, description: "Slices of ham and cheese", category: "sandwiches", image: "assets/images/menu/sandwich-cheese-ham.jpg" },
    { id: 112, name: "BACON & CHEESE SANDWICH", price: 36.00, description: "Crispy bacon and melted cheese", category: "sandwiches", image: "assets/images/menu/sandwich-bacon-cheese.jpg" },
    { id: 113, name: "BACON & EGG SANDWICH", price: 38.00, description: "Bacon and fried egg combo", category: "sandwiches", image: "assets/images/menu/sandwich-bacon-egg.jpg" },
    { id: 114, name: "CLUB SANDWICH", price: 45.00, description: "Triple-decker with bacon, egg, ham, and cheese", category: "sandwiches", image: "assets/images/menu/breakfast-club-house.jpg" },
    { id: 115, name: "FRENCH FRIES", price: 25.00, description: "Crispy golden french fries", category: "sandwiches", image: "assets/images/menu/side-french-fries.jpg" },
    
    // BURGERS - Updated with meal prices
    { 
        id: 201, 
        name: "CHICKEN/BEEF BURGER", 
        price: 40.00, 
        mealPrice: 60.00,
        description: "Chicken/beef patty, tomato, lettuce, and sauce", 
        category: "burgers", 
        image: "assets/images/menu/Chickenbeef burber.jpg",
        hasMealOption: true
    },
    { 
        id: 202, 
        name: "CHEESE CHICKEN BURGER", 
        price: 45.00, 
        mealPrice: 60.00,
        description: "Chicken patty, cheese, tomato, lettuce and sauce", 
        category: "burgers", 
        image: "assets/images/menu/Cheese chicken burger.jpg",
        hasMealOption: true
    },
    { 
        id: 203, 
        name: "CHEESE BEEF BURGER", 
        price: 45.00, 
        mealPrice: 65.00,
        description: "Beef patty, cheese, tomato, lettuce and sauce", 
        category: "burgers", 
        image: "assets/images/menu/Cheese beef burber.jpg",
        hasMealOption: true
    },
    { 
        id: 204, 
        name: "CHICKEN BURGER FILLET", 
        price: 45.00, 
        mealPrice: 65.00,
        description: "Chicken fillet, cheese, tomato, lettuce and sauce", 
        category: "burgers", 
        image: "assets/images/menu/CHICKEN BURGER.jpg",
        hasMealOption: true
    },
    
    // WRAPS - Updated with options
    { 
        id: 301, 
        name: "CHICKEN WRAP (SMALL)", 
        price: 45.00, 
        mealPrice: 68.00,
        description: "Sliced chicken, cheese, veggies and sauce", 
        category: "wraps", 
        image: "assets/images/menu/CHICKEN MAYO WRAP.jpg",
        hasMealOption: true
    },
    { 
        id: 302, 
        name: "CHICKEN WRAP (LARGE)", 
        price: 58.00, 
        mealPrice: 74.00,
        description: "Sliced chicken, cheese, veggies and sauce", 
        category: "wraps", 
        image: "assets/images/menu/CHICKEN MAYO WRAP.jpg",
        hasMealOption: true
    },
    { 
        id: 303, 
        name: "BEEF WRAP (SMALL)", 
        price: 48.00, 
        mealPrice: 75.00,
        description: "Wors, cheese, veggies and sauce", 
        category: "wraps", 
        image: "assets/images/menu/BEEF STRIP WRAP.jpg",
        hasMealOption: true
    },
    { 
        id: 304, 
        name: "BEEF WRAP (LARGE)", 
        price: 60.00, 
        mealPrice: 78.00,
        description: "Wors, cheese, veggies and sauce", 
        category: "wraps", 
        image: "assets/images/menu/BEEF STRIP WRAP.jpg",
        hasMealOption: true
    },
    
    // SALADS
    { id: 401, name: "GREEN SALAD", price: 45.00, description: "Crisp salad green, lettuce, cucumber, green pepper, tomato, carrots, feta cheese", category: "salads", image: "assets/images/menu/tomatosalad.jpg" },
    
    // THE GRILL SECTION (Meals served with Fries)
    { 
        id: 501, 
        name: "HOT DOG", 
        price: 25.00, 
        mealPrice: 45.00,
        description: "Classic hot dog served with fries as a meal", 
        category: "grills", 
        image: "assets/images/menu/hot-dog.jpg",
        hasMealOption: true
    },
    { 
        id: 502, 
        name: "BOEREWORS ROLL", 
        price: 30.00, 
        mealPrice: 48.00,
        description: "Traditional South African boerewors in a roll, served with fries as a meal", 
        category: "grills", 
        image: "assets/images/menu/boerewors-roll.jpg",
        hasMealOption: true
    },
    { 
        id: 503, 
        name: "QUARTER CHICKEN GRILL", 
        price: 45.00, 
        mealPrice: 65.00,
        description: "Quarter chicken grill served with fries as a meal", 
        category: "grills", 
        image: "assets/images/menu/quater.jpeg",
        hasMealOption: true
    },
    
    // MEALS SERVED WITH FRIES, 2 TOAST AND SALAD
    { 
        id: 504, 
        name: "QUARTER CHICKEN GRILL", 
        price: 45.00, 
        mealPrice: 85.00,
        description: "Quarter chicken grill. Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/quater.jpeg",
        hasMealOption: true
    },
    { 
        id: 505, 
        name: "RUMP STEAK", 
        price: 75.00, 
        mealPrice: 125.00,
        description: "250 grams of rump steak. Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/rumpsteak.jpeg",
        hasMealOption: true
    },
    { 
        id: 506, 
        name: "T-BONE STEAK", 
        price: 79.00, 
        mealPrice: 135.00,
        description: "250 grams of T-Bone steak (Grilled). Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/steak-t-bone.jpg",
        hasMealOption: true
    },
    { 
        id: 507, 
        name: "PORK CHOPS", 
        price: 65.00, 
        mealPrice: 120.00,
        description: "400 grams of pork chops. Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/pork-chops.jpg",
        hasMealOption: true
    },
    { 
        id: 508, 
        name: "LAMB CHOPS", 
        price: 150.00, 
        mealPrice: 150.00,
        description: "Lamb chops. Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/lamb-chops.jpg",
        hasMealOption: false
    },
    { 
        id: 509, 
        name: "MEGA GRILL", 
        price: 160.00, 
        mealPrice: 210.00,
        description: "(BOEREWORS, LAMB CHOPS, PORK CHOP, 1/4 CHICKEN). Only the meal includes fries, 2 toast and salad", 
        category: "grill_specials", 
        image: "assets/images/menu/meaty meats.png",
        hasMealOption: true
    },
    
    // TRADITIONAL DISHES
    { id: 601, name: "PHUTHU RICE BEEF CURRY", price: 85.00, description: "Phuthu rice with beef curry and 2 salads", category: "traditional_dishes", image: "assets/images/menu/ricechircken.jpeg" },
    { id: 602, name: "DOMBOLO & MEATY BONES", price: 50.00, description: "Dombolo with meaty bones and 2 salads", category: "traditional_dishes", image: "assets/images/menu/domboloe.jpeg" },
    { id: 603, name: "CHICKEN LIVERS", price: 35.00, description: "Chicken livers served with 2 rolls", category: "traditional_dishes", image: "assets/images/menu/CHICKEN LIVERS With 2 Rolls.jpg" },
    { id: 604, name: "INHLoKo no PHUTHU", price: 70.00, description: "Traditional dish with phuthu", category: "traditional_dishes", image: "assets/images/menu/INHLoKo no PHuthu.jpg" },
    { id: 605, name: "INyAMANgaPhakathi + no PHUTHU", price: 50.00, description: "Traditional dish with phuthu", category: "traditional_dishes", image: "assets/images/menu/INyAMANgaPhakathi + no Phuthu.jpeg" },
    
   { id: 501, name: "PEPPER STEAK", price: 28.00, description: "Tender beef chunks in rich gravy, encased in flaky pastry", category: "assorted_pies", image: "assets/images/menu/CLASSIC BEEF PIE.jpg" },
{ id: 502, name: "CHICKEN & MUSHROOM PIE", price: 28.00, description: "Creamy chicken and mushroom filling in golden pastry", category: "assorted_pies", image: "assets/images/menu/CHICKEN_MUSHROOM_PIE.jpg" },
{ id: 503, name: "STEAK AND KIDNEY", price: 28.00, description: "Seasonal vegetables in a creamy sauce with herb pastry", category: "assorted_pies", image: "assets/images/menu/Steak and kidney pie.jpg" },
{ id: 506, name: "ASSORTED SAMOSAS (X1)", price: 12.00, description: "Savory filled pastries", category: "assorted_pies", image: "assets/images/menu/ASSORTED_SAMOSAS.jpeg" },
{ id: 607, name: "ASSORTED MUFFINS/SCONES (X1)", price: 20.00, description: "Sweet treats", category: "assorted_pies", image: "assets/images/menu/ASSORTED MUFFINS_SCONES.jpg" },
    // COLD DRINKS

  // ðŸ§Š COLD DRINKS
 // ðŸ§Š COLD DRINKS

  { 
    id: 901, 
    name: "440ml SODA", 
    price: 25.00,
    description: "Assorted flavors", 
    category: "cold_drinks", 
    image: "assets/images/pics/440 mls drinks.jpg"
  },
  { 
    id: 902, 
    name: "CAPPY JUICE 300ml", 
    price: 22.00,
    description: "Fruit juice in can", 
    category: "cold_drinks", 
    image: "assets/images/pics/cappy 300mls can fruit juice.jpg"
  },


  
  { 
    id: 903, 
    name: "FRUIT JUICE 500ml", 
    price: 28.00,
    description: "Bottled fruit juice", 
    category: "cold_drinks", 
    image: "assets/images/pics/fruit juice bottle 500mls.jpg"
  },
  { 
    id: 904, 
    name: "ICED TEA", 
    price: 24.00,
    description: "Refreshing iced tea", 
    category: "cold_drinks", 
    image: "assets/images/pics/Iced tea.jpg"
  },
  { 
    id: 905, 
    name: "GRAPETISER/APPLETISER", 
    price: 35.00,
    description: "Sparkling fruit drinks", 
    category: "cold_drinks", 
    image: "assets/images/pics/grapetiser and appletiser.jpg"
  },
  { 
    id: 906, 
    name: "SODA 300ml BOTTLE", 
    price: 20.00,
    description: "Various soda brands", 
    category: "cold_drinks", 
    image: "assets/images/pics/Soda 300mls bottles.jpg"
  },
  { 
    id: 907, 
    name: "SODA 300ml CAN", 
    price: 18.00,
    description: "Canned sodas", 
    category: "cold_drinks", 
    image: "assets/images/pics/Soda 300mls can.jpg"
  },
  { 
    id: 908, 
    name: "SODA 500ml BOTTLE", 
    price: 25.00,
    description: "Large bottled sodas", 
    category: "cold_drinks", 
    image: "assets/images/pics/soda 500mls bottle.jpg"
  },
  { 
    id: 909, 
    name: "WADUR", 
    price: 15.00,
    description: "Energy drink", 
    category: "cold_drinks", 
    image: "assets/images/pics/Wadur.jpg"
  },

  
];

// â˜• HOT DRINKS
const hotDrinks = [
  { 
    id: 801, 
    name: "GROUND COFFEE", 
    price: 30.00, 
    megaPrice: 34.00,
    description: "Normal: R30 | Mega: R34", 
    category: "hot_drinks", 
    image: "assets/images/pics/Ground coffee.jpg",
    hasMegaOption: true
  },
  { 
    id: 802, 
    name: "NESCAFÃ‰", 
    price: 25.00, 
    megaPrice: 30.00,
    description: "Normal: R25 | Mega: R30", 
    category: "hot_drinks", 
    image: "assets/images/pics/Nescafe Coffee.jpg",
    hasMegaOption: true
  },
  { 
    id: 803, 
    name: "CAPPUCCINO", 
    price: 30.00, 
    megaPrice: 34.00,
    description: "Normal: R30 | Mega: R34", 
    category: "hot_drinks", 
    image: "assets/images/pics/Nescafe Cappucino.jpg",
    hasMegaOption: true
  },
  { 
    id: 804, 
    name: "JACOB'S COFFEE", 
    price: 30.00, 
    megaPrice: 34.00,
    description: "Normal: R30 | Mega: R34", 
    category: "hot_drinks", 
    image: "assets/images/pics/Jacobs coffee.jpg",
    hasMegaOption: true
  },
  { 
    id: 805, 
    name: "JACOB'S CAPPUCCINO", 
    price: 32.00, 
    megaPrice: 36.00,
    description: "Normal: R32 | Mega: R36", 
    category: "hot_drinks", 
    image: "assets/images/pics/Jacobs Cappucino.jpg",
    hasMegaOption: true
  },
  { 
    id: 806, 
    name: "TEA", 
    price: 20.00, 
    megaPrice: 26.00,
    description: "Five Roses, Joko, Rooibos | Normal: R20 | Mega: R26", 
    category: "hot_drinks", 
    image: "assets/images/pics/Tea(five roses, joko, rooi bos).jpg",
    hasMegaOption: true
  },
  { 
    id: 807, 
    name: "MILO", 
    price: 30.00, 
    megaPrice: 34.00,
    description: "Normal: R30 | Mega: R34", 
    category: "hot_drinks", 
    image: "assets/images/pics/Milo.jpg",
    hasMegaOption: true
  }
];




// Gallery Images
const galleryImages = [
    "assets/images/pics/Gallery1.jpg",
    "assets/images/pics/Gallery2.jpg",
    "assets/images/pics/Gallery3.jpg",
    "assets/images/pics/Gallery4.jpg",
    "assets/images/pics/Gallery5.jpg",
    "assets/images/pics/Gallery6.jpg"
];
// Testimonials Data
const testimonials = [
    {
        id: 1,
        text: "The best pies I've ever had! The crust is perfectly flaky and the fillings are always flavorful. A must-visit for any pie lover!",
        name: "Sarah Johnson",
        role: "Food Blogger",
        image: "https://randomuser.me/api/portraits/women/32.jpg"
    },
    {
        id: 2,
        text: "PIES AND GRILLS never disappoints. Their grilled salmon is cooked to perfection every time. The ambiance is cozy and the service is excellent.",
        name: "Michael Thompson",
        role: "Regular Customer",
        image: "https://randomuser.me/api/portraits/men/54.jpg"
    },
    {
        id: 3,
        text: "I celebrated my birthday here and it was an unforgettable experience. The staff went above and beyond to make our evening special. Highly recommended!",
        name: "Emily Rodriguez",
        role: "First-time Visitor",
        image: "https://randomuser.me/api/portraits/women/68.jpg"
    }
];

// Cart Data - Updated to handle options
let cart = [];
const WHATSAPP_NUMBER = "+27662952264"; // Updated WhatsApp number

// DOM Elements
const menuGrid = document.getElementById('menu-grid');
const menuFiltersContainer = document.getElementById('menu-filters');
const galleryContainer = document.getElementById('gallery-container');
const testimonialSlider = document.getElementById('testimonial-slider');
const testimonialNav = document.getElementById('testimonial-nav');
const navLinks = document.querySelectorAll('.nav-link');
const mobileMenuBtn = document.getElementById('mobile-menu-btn');
const mainNav = document.getElementById('main-nav');
const contactForm = document.getElementById('contactForm');
const mobileMenuBackdrop = document.getElementById('mobileMenuBackdrop');
const cartIcon = document.getElementById('cart-icon');
const cartCount = document.getElementById('cart-count');
const cartModal = document.getElementById('cart-modal');
const closeModalBtn = document.querySelector('.close-btn');
const cartItemsList = document.getElementById('cart-items');
const cartTotalPrice = document.getElementById('cart-total-price');
const whatsappOrderBtn = document.getElementById('whatsapp-order-btn');

// Book a Table Elements
const bookingForm = document.getElementById('bookingForm');
const cartItemsListBook = document.getElementById('cart-items-list');
const cartTotalPriceBook = document.getElementById('cart-total-price');
const viewMenuBtn = document.getElementById('view-menu-btn');
const emptyCartModal = document.getElementById('empty-cart-modal');
const confirmOrderModal = document.getElementById('confirm-order-modal');
const addItemsBtn = document.getElementById('add-items-btn');
const bookWithoutOrderBtn = document.getElementById('book-without-order');
const confirmOrderBtn = document.getElementById('confirm-order-btn');
const modifyOrderBtn = document.getElementById('modify-order-btn');

// Utility to format price
const formatPrice = (price) => `R${price.toFixed(2)}`;

// --- Cart Functions ---

function updateCartCount() {
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    cartCount.textContent = totalItems;
    cartIcon.style.display = totalItems > 0 ? 'flex' : 'none';
}

function calculateTotal() {
    const total = cart.reduce((sum, item) => sum + (item.selectedPrice * item.quantity), 0);
    if (cartTotalPrice) {
        cartTotalPrice.textContent = formatPrice(total);
    }
    return total;
}

function renderCart() {
    cartItemsList.innerHTML = '';
    if (cart.length === 0) {
        cartItemsList.innerHTML = '<li style="justify-content: center; color: #555;">Your cart is empty. Add some delicious items from the menu!</li>';
        if (whatsappOrderBtn) whatsappOrderBtn.disabled = true;
    } else {
        if (whatsappOrderBtn) whatsappOrderBtn.disabled = false;
        cart.forEach(item => {
            const itemTotal = item.selectedPrice * item.quantity;
            const li = document.createElement('li');
            li.innerHTML = `
                <div class="cart-item-info">
                    <span class="cart-item-name">${item.name}${item.option ? ` (${item.option})` : ''}</span>
                    <span class="cart-item-price">${formatPrice(item.selectedPrice)} each</span>
                </div>
                <div class="cart-item-quantity">
                    <button class="quantity-btn" data-id="${item.id}" data-option="${item.option || 'normal'}" data-action="decrease">-</button>
                    <span>${item.quantity}</span>
                    <button class="quantity-btn" data-id="${item.id}" data-option="${item.option || 'normal'}" data-action="increase">+</button>
                </div>
                <div class="cart-item-total">
                    ${formatPrice(itemTotal)}
                </div>
            `;
            cartItemsList.appendChild(li);
        });
        
        // Add total display
        const totalLi = document.createElement('li');
        totalLi.className = 'cart-total-row';
        totalLi.innerHTML = `
            <div class="cart-total-info">
                <span class="cart-total-label">Total:</span>
                <span class="cart-total-amount">${formatPrice(calculateTotal())}</span>
            </div>
        `;
        cartItemsList.appendChild(totalLi);
    }
}

function addToCart(itemId, option = 'normal') {
    const item = menuItems.find(i => i.id === itemId);
    if (!item) return;

    // Determine the price based on the option
    let selectedPrice = item.price;
    if (option === 'meal' && item.hasMealOption) {
        selectedPrice = item.mealPrice;
    } else if (option === 'mega' && item.hasMegaOption) {
        selectedPrice = item.megaPrice;
    }

    // Check if item with same ID and option already exists in cart
    const cartItemIndex = cart.findIndex(i => i.id === itemId && i.option === option);
    
    if (cartItemIndex !== -1) {
        // Increment quantity if item already exists
        cart[cartItemIndex].quantity += 1;
    } else {
        // Add new item to cart
        cart.push({ 
            ...item, 
            quantity: 1, 
            selectedPrice: selectedPrice,
            option: option
        });
    }
    
    updateCartCount();
    renderCart();
    updateCartDisplayBook();
    
    // Visual feedback for item added
    cartIcon.classList.add('added');
    setTimeout(() => {
        cartIcon.classList.remove('added');
    }, 500);
}

function updateQuantity(itemId, option, action) {
    const itemIndex = cart.findIndex(i => i.id === itemId && i.option === option);
    if (itemIndex === -1) return;

    if (action === 'increase') {
        cart[itemIndex].quantity += 1;
    } else if (action === 'decrease') {
        cart[itemIndex].quantity -= 1;
        if (cart[itemIndex].quantity <= 0) {
            cart.splice(itemIndex, 1); // Remove item if quantity is 0
        }
    }
    
    updateCartCount();
    renderCart();
    updateCartDisplayBook();
}

function generateWhatsAppLink() {
    if (cart.length === 0) return;

    let orderText = `*New Order from PIES AND GRILLS Website*\n\n`;
    let total = 0;

    cart.forEach(item => {
        const itemTotal = item.selectedPrice * item.quantity;
        total += itemTotal;
        const optionText = item.option && item.option !== 'normal' ? ` (${item.option.toUpperCase()})` : '';
        orderText += `${item.quantity}x ${item.name}${optionText} @ ${formatPrice(item.selectedPrice)} each = ${formatPrice(itemTotal)}\n`;
    });

    orderText += `\n*TOTAL: ${formatPrice(total)}*`;
    orderText += `\n\n_Please confirm your name and delivery details._`;

    const encodedText = encodeURIComponent(orderText);
    const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedText}`;
    
    window.open(whatsappUrl, '_blank');
}

// --- Book a Table Functions ---

// Consolidated function to update booking cart display and all total elements
function updateCartDisplayBook() {
    const bookListEl = document.getElementById('cart-items-list');
    const totalEls = document.querySelectorAll('#cart-total-price'); // updates every element using this id
    if (!bookListEl) return;

    bookListEl.innerHTML = '';

    if (cart.length === 0) {
        bookListEl.innerHTML = `
            <div class="empty-cart-message">
                <i class="fas fa-shopping-cart"></i>
                <p>Your cart is empty</p>
            </div>
        `;
        totalEls.forEach(el => el.textContent = formatPrice(0));
        return;
    }

    let total = 0;

    cart.forEach(item => {
        const itemTotal = item.selectedPrice * item.quantity;
        total += itemTotal;

        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        const optionText = item.option && item.option !== 'normal' ? ` (${item.option.toUpperCase()})` : '';
        cartItem.innerHTML = `
            <span class="cart-item-name">${item.quantity}x ${item.name}${optionText}</span>
            <span class="cart-item-price">${formatPrice(itemTotal)}</span>
        `;
        bookListEl.appendChild(cartItem);
    });

    // Update all total price displays (both modal and booking summary)
    totalEls.forEach(el => {
        el.textContent = formatPrice(total);
    });
}

// Format date for display
function formatDate(dateString) {
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const date = new Date(dateString);
    return date.toLocaleDateString('en-ZA', options);
}

// Generate WhatsApp message for booking
function generateWhatsAppMessage(formData, includeOrder = true) {
    const { name, phone, date, time, guests, specialRequests } = formData;
    
    let message = `*NEW TABLE BOOKING REQUEST*\n\n`;
    message += `*Customer Details:*\n`;
    message += `Name: ${name}\n`;
    message += `Phone: ${phone}\n\n`;
    message += `*Booking Details:*\n`;
    message += `Date: ${formatDate(date)}\n`;
    message += `Time: ${time}\n`;
    message += `Number of Guests: ${guests}\n\n`;
    
    if (includeOrder && cart.length > 0) {
        message += `*Order Details:*\n`;
        let orderTotal = 0;
        cart.forEach(item => {
            const itemTotal = item.selectedPrice * item.quantity;
            orderTotal += itemTotal;
            const optionText = item.option && item.option !== 'normal' ? ` (${item.option.toUpperCase()})` : '';
            message += `${item.quantity}x ${item.name}${optionText} - ${formatPrice(itemTotal)}\n`;
        });
        message += `*Order Total: ${formatPrice(orderTotal)}*\n\n`;
    } else if (includeOrder) {
        message += `*Order Details:* No items ordered\n\n`;
    }
    
    if (specialRequests) {
        message += `*Special Requests:*\n${specialRequests}\n\n`;
    }
    
    message += `_This booking was made via the PIES AND GRILLS website._`;
    
    return message;
}

// Send booking via WhatsApp
function sendBookingViaWhatsApp(formData, includeOrder = true) {
    const message = generateWhatsAppMessage(formData, includeOrder);
    const encodedMessage = encodeURIComponent(message);
    const whatsappUrl = `https://wa.me/27662952264?text=${encodedMessage}`;
    
    window.open(whatsappUrl, '_blank');
}

// Handle booking form submission
function handleBookingFormSubmit(e) {
    e.preventDefault();
    
    const formData = {
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        date: document.getElementById('date').value,
        time: document.getElementById('time').value,
        guests: document.getElementById('guests').value,
        specialRequests: document.getElementById('special-requests').value
    };
    
    // Validate required fields
    if (!formData.name || !formData.phone || !formData.date || !formData.time || !formData.guests) {
        alert('Please fill in all required fields.');
        return;
    }
    
    // Check if cart is empty
    if (cart.length === 0) {
        // Show empty cart modal
        if (emptyCartModal) emptyCartModal.style.display = 'flex';
    } else {
        // Show confirm order modal
        if (confirmOrderModal) confirmOrderModal.style.display = 'flex';
    }
}
// --- Menu Rendering and Filtering Functions ---

function getUniqueCategories() {
    const categories = menuItems.map(item => item.category);
    return ['all', ...new Set(categories)];
}

function formatCategoryName(category) {
    if (category === 'breakfast') return 'Breakfast';
    if (category === 'build_your_breakfast') return 'Build Your Breakfast (Add-ons)';
    if (category === 'sandwiches') return 'Sandwiches';
    if (category === 'grills') return 'The Grill Section (Meals served with Fries)';
    if (category === 'grill_specials') return 'Meals served with Fries, 2 Toast and Salad';
    if (category === 'cold_drinks') return 'Cold Drinks';
    if (category === 'hot_drinks') return 'Hot Drinks';
    if (category === 'traditional_dishes') return 'Traditional Dishes';
    return category.replace(/_/g, ' & ').toUpperCase();
}

function renderFilterButtons() {
    const categories = getUniqueCategories();
    menuFiltersContainer.innerHTML = '';

    categories.forEach(category => {
        const button = document.createElement('button');
        button.className = `filter-btn ${category === 'all' ? 'active' : ''}`;
        button.dataset.filter = category;
        button.textContent = formatCategoryName(category);
        menuFiltersContainer.appendChild(button);
    });
}

function renderMenuItems(filter = 'all') {
    if (!menuGrid) return;
    menuGrid.innerHTML = '';
    
    const categories = getUniqueCategories().filter(c => c !== 'all');
    
    categories.forEach(category => {
        const filteredItems = menuItems.filter(item => item.category === category);
        
        if (filteredItems.length > 0 && (filter === 'all' || filter === category)) {
            // Add Category Title
            const title = document.createElement('h3');
            title.className = 'menu-category-title';
            title.textContent = formatCategoryName(category);
            menuGrid.appendChild(title);

            // Add Items
            filteredItems.forEach(item => {
                const menuItemElement = document.createElement('div');
                menuItemElement.className = `menu-item`;
                menuItemElement.dataset.category = item.category;
                
                let optionHTML = '';
                
                // Add meal options for items that have them
                if (item.hasMealOption) {
                    // Determine what's included in the meal based on category
                    let mealIncludes = '';
                    if (item.category === 'grills') {
                        mealIncludes = '<small style="display: block; margin-top: 8px; color: #666; font-size: 0.85rem; font-weight: 500;">Base: Item only | Meal: + Fries</small>';
                    } else if (item.category === 'grill_specials') {
                        mealIncludes = '<small style="display: block; margin-top: 8px; color: #666; font-size: 0.85rem; font-weight: 500;">Base: Item only | Meal: + Fries, 2 Toast & Salad</small>';
                    } else if (item.category === 'burgers' || item.category === 'wraps') {
                        mealIncludes = '<small style="display: block; margin-top: 8px; color: #666; font-size: 0.85rem; font-weight: 500;">Base: Item only | Meal: + Fries</small>';
                    } else {
                        mealIncludes = '<small style="display: block; margin-top: 8px; color: #666; font-size: 0.85rem; font-weight: 500;">Base: Item only | Meal: Includes sides</small>';
                    }
                    
                    optionHTML = `
                        <div class="option-selection">
                            <div>Select option:</div>
                            <div class="option-buttons">
                                <button class="option-btn active" data-option="normal">Base <span class="option-price">${formatPrice(item.price)}</span></button>
                                <button class="option-btn" data-option="meal">Meal <span class="option-price">${formatPrice(item.mealPrice)}</span></button>
                            </div>
                            ${mealIncludes}
                        </div>
                    `;
                }
                
                // Add mega options for drinks
                if (item.hasMegaOption) {
                    optionHTML = `
                        <div class="option-selection">
                            <div>Select size:</div>
                            <div class="option-buttons">
                                <button class="option-btn active" data-option="normal">Normal <span class="option-price">${formatPrice(item.price)}</span></button>
                                <button class="option-btn" data-option="mega">Mega <span class="option-price">${formatPrice(item.megaPrice)}</span></button>
                            </div>
                        </div>
                    `;
                }
                
                // For items without meal options but with different prices, show both prices
                let priceDisplay = formatPrice(item.price);
                if (item.mealPrice && !item.hasMealOption) {
                    priceDisplay = `${formatPrice(item.price)} | Meal: ${formatPrice(item.mealPrice)}`;
                }
                
                menuItemElement.innerHTML = `
                    <div class="menu-item-img">
                        <img src="${item.image || 'assets/images/menu/placeholder.jpg'}" alt="${item.name}">
                    </div>
                    <div class="item-details">
                        <div>
                            <div class="item-header">
                                <h4 class="item-name">${item.name}</h4>
                                <span class="item-price">${priceDisplay}</span>
                            </div>
                            <p class="item-description">${item.description}</p>
                            ${optionHTML}
                        </div>
                        <button class="add-to-cart-btn" data-id="${item.id}">Add to Cart</button>
                    </div>
                `;
                menuGrid.appendChild(menuItemElement);
            });
        }
    });
    
    // Add event listeners for "Add to Cart" buttons
    document.querySelectorAll('.add-to-cart-btn').forEach(button => {
        button.addEventListener('click', function() {
            const itemId = parseInt(this.dataset.id);
            const menuItem = this.closest('.menu-item');
            const activeOption = menuItem.querySelector('.option-btn.active');
            const option = activeOption ? activeOption.dataset.option : 'normal';
            addToCart(itemId, option);
        });
    });
    
    // Add event listeners for option buttons
    document.querySelectorAll('.option-btn').forEach(button => {
        button.addEventListener('click', function() {
            const optionButtons = this.parentElement.querySelectorAll('.option-btn');
            optionButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
        });
    });
}

// --- Gallery and Testimonials Functions ---

function renderGallery() {
    if (!galleryContainer) return;
    galleryContainer.innerHTML = '';
    // Only show first 6 images
    galleryImages.slice(0, 6).forEach(image => {
        const galleryItem = document.createElement('div');
        galleryItem.className = 'gallery-item';
        galleryItem.innerHTML = `
            <img src="${image}" alt="Gallery Image">
            <div class="gallery-overlay">
                <i class="fas fa-search-plus"></i>
            </div>
        `;
        galleryContainer.appendChild(galleryItem);
    });
}

function renderTestimonials() {
    if (!testimonialSlider || !testimonialNav) return;
    testimonialSlider.innerHTML = '';
    testimonialNav.innerHTML = '';

    testimonials.forEach((testimonial, index) => {
        // Create testimonial slide
        const testimonialSlide = document.createElement('div');
        testimonialSlide.className = `testimonial-slide ${index === 0 ? 'active' : ''}`;
        testimonialSlide.innerHTML = `
            <p class="testimonial-text">${testimonial.text}</p>
            <div class="testimonial-author">
                <img src="${testimonial.image}" alt="${testimonial.name}">
                <div class="testimonial-author-info">
                    <h4>${testimonial.name}</h4>
                    <p>${testimonial.role}</p>
                </div>
            </div>
        `;
        testimonialSlider.appendChild(testimonialSlide);

        // Create navigation dot
        const navDot = document.createElement('div');
        navDot.className = `testimonial-dot ${index === 0 ? 'active' : ''}`;
        navDot.dataset.index = index;
        testimonialNav.appendChild(navDot);
    });
}

// --- Event Listeners Setup ---

function setupEventListeners() {
    // Menu filtering
    menuFiltersContainer.addEventListener('click', function(e) {
        const button = e.target.closest('.filter-btn');
        if (!button) return;

        // Remove active class from all buttons
        document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
        // Add active class to clicked button
        button.classList.add('active');

        const filter = button.dataset.filter;
        renderMenuItems(filter);
    });

    // Cart Modal logic
    cartIcon.addEventListener('click', () => {
        cartModal.style.display = 'block';
        renderCart();
    });
    closeModalBtn.addEventListener('click', () => {
        cartModal.style.display = 'none';
    });
    window.addEventListener('click', (event) => {
        if (event.target === cartModal) {
            cartModal.style.display = 'none';
        }
    });

    // Cart quantity update logic
    cartItemsList.addEventListener('click', function(e) {
        const button = e.target.closest('.quantity-btn');
        if (!button) return;

        const itemId = parseInt(button.dataset.id);
        const option = button.dataset.option;
        const action = button.dataset.action;
        updateQuantity(itemId, option, action);
    });

    // WhatsApp Order button
    whatsappOrderBtn.addEventListener('click', generateWhatsAppLink);

    // Book a Table form submission
    if (bookingForm) {
        bookingForm.addEventListener('submit', handleBookingFormSubmit);
    }

    // Modal button event handlers
    if (addItemsBtn) {
        addItemsBtn.addEventListener('click', function() {
            emptyCartModal.style.display = 'none';
            // Scroll to menu section
            const menuSection = document.getElementById('menu');
            if (menuSection) {
                window.scrollTo({
                    top: menuSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    }

    if (bookWithoutOrderBtn) {
        bookWithoutOrderBtn.addEventListener('click', function() {
            emptyCartModal.style.display = 'none';
            const formData = {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                guests: document.getElementById('guests').value,
                specialRequests: document.getElementById('special-requests').value
            };
            sendBookingViaWhatsApp(formData, false);
        });
    }

    if (confirmOrderBtn) {
        confirmOrderBtn.addEventListener('click', function() {
            confirmOrderModal.style.display = 'none';
            const formData = {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                date: document.getElementById('date').value,
                time: document.getElementById('time').value,
                guests: document.getElementById('guests').value,
                specialRequests: document.getElementById('special-requests').value
            };
            sendBookingViaWhatsApp(formData, true);
        });
    }

    if (modifyOrderBtn) {
        modifyOrderBtn.addEventListener('click', function() {
            confirmOrderModal.style.display = 'none';
            // Scroll to menu section
            const menuSection = document.getElementById('menu');
            if (menuSection) {
                window.scrollTo({
                    top: menuSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    }

    // View menu button
    if (viewMenuBtn) {
        viewMenuBtn.addEventListener('click', function() {
            // Scroll to menu section
            const menuSection = document.getElementById('menu');
            if (menuSection) {
                window.scrollTo({
                    top: menuSection.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    }

    // Close modals when clicking outside
    window.addEventListener('click', function(e) {
        if (e.target === emptyCartModal) {
            emptyCartModal.style.display = 'none';
        }
        if (e.target === confirmOrderModal) {
            confirmOrderModal.style.display = 'none';
        }
    });

    // Smooth scrolling for navigation links
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();

            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            if (!targetSection) return;

            window.scrollTo({
                top: targetSection.offsetTop - 80,
                behavior: 'smooth'
            });

            // Update active nav link
            navLinks.forEach(navLink => navLink.classList.remove('active'));
            this.classList.add('active');

            // Close mobile menu if open
            if (mainNav.classList.contains('active')) {
                mainNav.classList.remove('active');
                mobileMenuBackdrop.classList.remove('active');
            }
        });
    });

    // Mobile menu toggle
    if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', function() {
            mainNav.classList.toggle('active');
            mobileMenuBackdrop.classList.toggle('active');
        });
    }

    // Close mobile menu when clicking on backdrop
    if (mobileMenuBackdrop) {
        mobileMenuBackdrop.addEventListener('click', function() {
            mainNav.classList.remove('active');
            this.classList.remove('active');
        });
    }

    // Contact form submission
// Contact form submission
if (contactForm) {
    contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form data
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const subject = document.getElementById('subject').value.trim();
        const message = document.getElementById('message').value.trim();
        
        // Basic validation
        
        // Create and open mailto link
        const mailtoUrl = `mailto:thejabs145@gmail.com?subject=${encodeURIComponent('PIES AND GRILLS: ' + subject)}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage: ${message}`)}`;
        window.location.href = mailtoUrl;
        
        // Show confirmation
        alert('Thank you for your message! Your email client will open. Please click send to complete.');
        
        // Reset form
        this.reset();
    });
}

    // Update active nav link on scroll
    window.addEventListener('scroll', function() {
        const scrollPosition = window.scrollY;

        // Check each section
        document.querySelectorAll('section').forEach(section => {
            const sectionTop = section.offsetTop - 100;
            const sectionHeight = section.offsetHeight;
            const sectionId = section.getAttribute('id');

            if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${sectionId}`) {
                        link.classList.add('active');
                    }
                });
            }
        });
    });
}

// Testimonial slider functionality
function startTestimonialSlider() {
    let currentSlide = 0;
    const slides = document.querySelectorAll('.testimonial-slide');
    const dots = document.querySelectorAll('.testimonial-dot');

    if (slides.length === 0 || dots.length === 0) return;

    // Function to show a specific slide
    function showSlide(index) {
        // Hide all slides
        slides.forEach(slide => slide.classList.remove('active'));
        dots.forEach(dot => dot.classList.remove('active'));

        // Show the selected slide
        slides[index].classList.add('active');
        dots[index].classList.add('active');

        currentSlide = index;
    }

    // Add click event to dots
    dots.forEach((dot, index) => {
        dot.addEventListener('click', function() {
            showSlide(index);
        });
    });

    // Auto-advance slides every 5 seconds
    setInterval(() => {
        let nextSlide = currentSlide + 1;
        if (nextSlide >= slides.length) {
            nextSlide = 0;
        }
        showSlide(nextSlide);
    }, 5000);
}

// Initialize the website
document.addEventListener('DOMContentLoaded', function() {
    renderFilterButtons();
    renderMenuItems();
    renderGallery();
    renderTestimonials();
    setupEventListeners();
    startTestimonialSlider();
    updateCartCount(); // Initialize cart icon state
    updateCartDisplayBook(); // Initialize book a table cart display
    
    // Set minimum date to today for booking form
    const today = new Date().toISOString().split('T')[0];
    const dateInput = document.getElementById('date');
    if (dateInput) {
        dateInput.setAttribute('min', today);
    }
});
</script>


</body>
</html>